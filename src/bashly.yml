name: stash
help: Bidirectionally sync Markdown files with Apple Notes
version: 0.1.1

dependencies:
  pandoc:
    command: [pandoc]
    help: Install pandoc from https://pandoc.org/installing.html
  pcregrep:
    command: [pcregrep]
    help: Install pcre (includes pcregrep) - e.g., 'brew install pcre' on macOS

commands:
- name: push
  help: Push a Markdown file to Apple Notes (create or update)
  completions:
  - <file>

  args:
  - name: file
    required: true
    help: Path to the Markdown file to push

  flags:
  - long: --folder
    short: -f
    arg: name
    help: Apple Notes folder to create note in (created if doesn't exist)

- name: pull
  help: Pull content from Apple Notes to a Markdown file
  completions:
  - <file>

  args:
  - name: file
    required: true
    help: Path to the Markdown file to update

- name: completions
  help: |-
    Generate bash completions
    Usage: eval "$(stash completions)"
